"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[21757],{2013:(e,o,t)=>{t.d(o,{A:()=>n});const n=t.p+"assets/images/v0.39-18bfebde193d6d4a6325bd6cc2337822.png"},17018:e=>{e.exports=JSON.parse('{"permalink":"/blog/proto-v0.39","editUrl":"https://github.com/moonrepo/moon/tree/master/website/blog/2024-07-26_proto-v0.39.mdx","source":"@site/blog/2024-07-26_proto-v0.39.mdx","title":"proto v0.39 - Mid-year quality of life improvements","description":"This is a small release that includes many quality of life improvements.","date":"2024-07-26T00:00:00.000Z","tags":[{"inline":true,"label":"activate","permalink":"/blog/tags/activate"},{"inline":true,"label":"install","permalink":"/blog/tags/install"},{"inline":true,"label":"github","permalink":"/blog/tags/github"},{"inline":true,"label":"locator","permalink":"/blog/tags/locator"},{"inline":true,"label":"pin","permalink":"/blog/tags/pin"},{"inline":true,"label":"builtin","permalink":"/blog/tags/builtin"}],"readingTime":2.29,"hasTruncateMarker":true,"authors":[{"name":"Miles Johnson","title":"Founder, developer","url":"https://github.com/milesj","imageURL":"/img/authors/miles.jpg","key":"milesj","page":null}],"frontMatter":{"slug":"proto-v0.39","title":"proto v0.39 - Mid-year quality of life improvements","authors":["milesj"],"tags":["activate","install","github","locator","pin","builtin"],"image":"./img/proto/v0.39.png"},"unlisted":false,"prevItem":{"title":"proto v0.40 - Config mode, progress bars, and more","permalink":"/blog/proto-v0.40"},"nextItem":{"title":"moon v1.27 - Task scripts, Docker settings, and more","permalink":"/blog/moon-v1.27"}}')},34185:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>a,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>n,toc:()=>c});var n=t(17018),i=t(62540),s=t(43023);const l={slug:"proto-v0.39",title:"proto v0.39 - Mid-year quality of life improvements",authors:["milesj"],tags:["activate","install","github","locator","pin","builtin"],image:"./img/proto/v0.39.png"},r=void 0,a={image:t(2013).A,authorsImageUrls:[void 0]},c=[{value:"Improved <code>proto activate</code> performance",id:"improved-proto-activate-performance",level:2},{value:"Merged <code>proto install</code> and <code>proto use</code> commands",id:"merged-proto-install-and-proto-use-commands",level:2},{value:"Customize built-in tools",id:"customize-built-in-tools",level:2},{value:"Pin proto itself",id:"pin-proto-itself",level:2},{value:"Other changes",id:"other-changes",level:2}];function d(e){const o={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.p,{children:"This is a small release that includes many quality of life improvements."}),"\n",(0,i.jsxs)(o.h2,{id:"improved-proto-activate-performance",children:["Improved ",(0,i.jsx)(o.code,{children:"proto activate"})," performance"]}),"\n",(0,i.jsxs)(o.p,{children:["In ",(0,i.jsx)(o.a,{href:"./proto-v0.38",children:"v0.38"})," we released the ",(0,i.jsx)(o.a,{href:"/docs/proto/commands/activate",children:(0,i.jsx)(o.code,{children:"proto activate"})})," command\nas a means of bootstrapping your shell with necessary paths and variables. Since then, we've fixed a\nhandful of bugs and focused on performance for this release."]}),"\n",(0,i.jsx)(o.p,{children:"In this release, we've reduced the time it took to execute activation from 200-300ms down to\n10-20ms. We've also fixed some syntax issues around Bash and Zsh shells."}),"\n",(0,i.jsxs)(o.h2,{id:"merged-proto-install-and-proto-use-commands",children:["Merged ",(0,i.jsx)(o.code,{children:"proto install"})," and ",(0,i.jsx)(o.code,{children:"proto use"})," commands"]}),"\n",(0,i.jsxs)(o.p,{children:["When proto was first built we had separate commands for installing all tools\n(",(0,i.jsx)(o.a,{href:"/docs/proto/commands/use",children:(0,i.jsx)(o.code,{children:"proto use"})}),"), and installing a single tool\n(",(0,i.jsx)(o.a,{href:"/docs/proto/commands/install",children:(0,i.jsx)(o.code,{children:"proto install"})}),"). For historical reasons, this was loosely based\noff of nvm, but we have diverged heavily since then."]}),"\n",(0,i.jsxs)(o.p,{children:["Going forward, the ",(0,i.jsx)(o.code,{children:"proto use"})," command is now deprecated, and all of its functionality has been\nmerged into ",(0,i.jsx)(o.code,{children:"proto install"}),". To install all tools, simply don't pass arguments to the command!"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-shell",children:"# Install all tools\n$ proto install\n\n# Install a single tool\n$ proto install node\n"})}),"\n",(0,i.jsx)(o.p,{children:"We like this change, as it aligns with package/dependency manager based workflows."}),"\n",(0,i.jsx)(o.h2,{id:"customize-built-in-tools",children:"Customize built-in tools"}),"\n",(0,i.jsxs)(o.p,{children:["proto ships with a handful of ",(0,i.jsx)(o.a,{href:"/docs/proto/tools#built-in",children:"official built-in plugins"})," for popular\ntools like Node.js, Go, and more. While this is great as it reduces configuration boilerplate, it\nmay cause an inconvenience for adoption or migration related reasons. To support these workflows,\nwe're introducing a new setting, ",(0,i.jsx)(o.a,{href:"/docs/proto/config#builtin-plugins",children:(0,i.jsx)(o.code,{children:"settings.builtin-plugins"})}),",\nthat can be used to disable all built-in plugins, or only allow a few select plugins."]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-toml",metastring:'title=".prototools"',children:'[settings]\n# Disable all\nbuiltin-plugins = false\n# Enable some\nbuiltin-plugins = ["node", "bun"]\n'})}),"\n",(0,i.jsx)(o.h2,{id:"pin-proto-itself",children:"Pin proto itself"}),"\n",(0,i.jsxs)(o.p,{children:["proto has yet to reach an official v1 release, as we're constantly fine-tuning and reworking APIs.\nBecause of this, we may accidentally introduce unexpected changes, or introduce breaking changes\nthat you were relying on. To help mitigate these issues, you can now\n",(0,i.jsx)(o.a,{href:"/docs/proto/config#lock-proto-version",children:"pin the version of proto itself"})," in ",(0,i.jsx)(o.code,{children:".prototools"}),"."]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-toml",metastring:'title=".prototools"',children:'proto = "0.39.0"\n'})}),"\n",(0,i.jsxs)(o.p,{children:["When this pin exists, all proto shims will attempt to execute proto using that exact version. This\nallows for the global ",(0,i.jsx)(o.code,{children:"proto"})," binary to differ in version from what is executed."]}),"\n",(0,i.jsx)(o.h2,{id:"other-changes",children:"Other changes"}),"\n",(0,i.jsxs)(o.p,{children:["View the ",(0,i.jsx)(o.a,{href:"https://github.com/moonrepo/proto/releases/tag/v0.39.0",children:"official release"})," for a full list\nof changes."]}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["Added ",(0,i.jsx)(o.code,{children:"PROTO_NO_MODIFY_PROFILE"})," and ",(0,i.jsx)(o.code,{children:"PROTO_NO_MODIFY_PATH"})," environment variables to ",(0,i.jsx)(o.code,{children:"proto setup"}),"\n(for automated workflows)."]}),"\n",(0,i.jsxs)(o.li,{children:["Updated ",(0,i.jsx)(o.code,{children:"proto status"})," to display and include versions from ecosystem files (",(0,i.jsx)(o.code,{children:".nvmrc"}),", etc)."]}),"\n",(0,i.jsxs)(o.li,{children:["Updated ",(0,i.jsx)(o.code,{children:"github://"})," plugin locators to support monorepos. Append the project name (that tags are\nprefixed with) to the path: ",(0,i.jsx)(o.code,{children:"github://moonrepo/plugins/node_tool"})]}),"\n"]})]})}function p(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},43023:(e,o,t)=>{t.d(o,{R:()=>l,x:()=>r});var n=t(63696);const i={},s=n.createContext(i);function l(e){const o=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),n.createElement(s.Provider,{value:o},e.children)}}}]);