"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[36097],{26297:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>o,toc:()=>m});const o=JSON.parse('{"id":"setup-workspace","title":"Setup workspace","description":"Once moon has been installed, we must setup the workspace,","source":"@site/docs/setup-workspace.mdx","sourceDirName":".","slug":"/setup-workspace","permalink":"/docs/setup-workspace","draft":false,"unlisted":false,"editUrl":"https://github.com/moonrepo/moon/tree/master/website/docs/setup-workspace.mdx","tags":[],"version":"current","frontMatter":{"title":"Setup workspace"},"sidebar":"docs","previous":{"title":"Action graph","permalink":"/docs/how-it-works/action-graph"},"next":{"title":"Create a project","permalink":"/docs/create-project"}}');var s=t(62540),i=t(43023),r=t(68259),a=t(91664);const c={title:"Setup workspace"},l=void 0,d={},m=[{value:"Initializing the repository",id:"initializing-the-repository",level:2},{value:"Migrate from an existing build system",id:"migrate-from-an-existing-build-system",level:2},{value:"Configuring a version control system",id:"configuring-a-version-control-system",level:2},{value:"Next steps",id:"next-steps",level:2}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.A,{text:"2 min"}),"\n",(0,s.jsxs)(n.p,{children:["Once moon has been ",(0,s.jsx)(n.a,{href:"./install",children:"installed"}),", we must setup the ",(0,s.jsx)(n.a,{href:"./concepts/workspace",children:"workspace"}),",\nwhich is denoted by the ",(0,s.jsx)(n.code,{children:".moon"})," folder \u2014 this is known as the workspace root. The workspace is in\ncharge of:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Integrating with a version control system."}),"\n",(0,s.jsx)(n.li,{children:"Defining configuration that applies to its entire tree."}),"\n",(0,s.jsxs)(n.li,{children:["Housing ",(0,s.jsx)(n.a,{href:"./concepts/project",children:"projects"})," to build a ",(0,s.jsx)(n.a,{href:"./how-it-works/project-graph",children:"project graph"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Running tasks with the ",(0,s.jsx)(n.a,{href:"./how-it-works/action-graph",children:"action graph"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"initializing-the-repository",children:"Initializing the repository"}),"\n",(0,s.jsxs)(n.p,{children:["Let's scaffold and initialize moon in a repository with the ",(0,s.jsx)(n.a,{href:"./commands/init",children:(0,s.jsx)(n.code,{children:"moon init"})})," command.\nThis should typically be ran at the root, but can be nested within a directory."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ moon init\n"})}),"\n",(0,s.jsx)(n.p,{children:"When executed, the following operations will be applied."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Creates a ",(0,s.jsx)(n.code,{children:".moon"})," folder with a ",(0,s.jsx)(n.a,{href:"./config/workspace",children:(0,s.jsx)(n.code,{children:".moon/workspace.yml"})})," configuration file."]}),"\n",(0,s.jsxs)(n.li,{children:["Appends necessary ignore patterns to the relative ",(0,s.jsx)(n.code,{children:".gitignore"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Infers the version control system from the environment."}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["If you're investigating moon, or merely want to prototype, you can use ",(0,s.jsx)(n.code,{children:"moon init --minimal"})," to\nquickly initialize and create minimal configuration files."]})}),"\n",(0,s.jsx)(n.h2,{id:"migrate-from-an-existing-build-system",children:"Migrate from an existing build system"}),"\n",(0,s.jsxs)(n.p,{children:["Looking to migrate from Nx or Turborepo to moon? Use our\n",(0,s.jsx)(n.a,{href:"./guides/extensions#migrate-nx",children:(0,s.jsx)(n.code,{children:"moon ext migrate-nx"})})," or\n",(0,s.jsx)(n.a,{href:"./guides/extensions#migrate-turborepo",children:(0,s.jsx)(n.code,{children:"moon ext migrate-turborepo"})})," commands for a (somewhat)\nseamless migration!"]}),"\n",(0,s.jsx)(n.p,{children:"These extensions will convert your existing configuration files to moon's format as best as\npossible, but is not a requirement."}),"\n",(0,s.jsx)(n.h2,{id:"configuring-a-version-control-system",children:"Configuring a version control system"}),"\n",(0,s.jsxs)(n.p,{children:["moon requires a version control system (VCS) to be present for functionality like file diffing,\nhashing, and revision comparison. The VCS and its default branch can be configured through the\n",(0,s.jsx)(n.a,{href:"./config/workspace#vcs",children:(0,s.jsx)(n.code,{children:"vcs"})})," setting."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title=".moon/workspace.yml"',children:"vcs:\n  manager: 'git'\n  defaultBranch: 'master'\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["moon defaults to ",(0,s.jsx)(n.code,{children:"git"})," and the settings above, so feel free to skip this."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,s.jsx)(a.A,{links:[{icon:"new-project",label:"Create a project",url:"./create-project"},{icon:"workspace-config",label:(0,s.jsxs)(n.span,{children:["Configure ",(0,s.jsx)(n.code,{children:".moon/workspace.yml"})," further"]}),url:"./config/workspace"},{icon:"workspace",label:"Learn about the workspace",url:"./concepts/workspace"}]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},43023:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var o=t(63696);const s={},i=o.createContext(s);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:n},e.children)}},65162:(e,n,t)=>{t.d(n,{A:()=>a});var o=t(11750),s=t(74599),i=t(62540);const r={failure:"bg-red-100 text-red-900",info:"bg-pink-100 text-pink-900",success:"bg-green-100 text-green-900",warning:"bg-orange-100 text-orange-900"};function a(e){let{className:n,icon:t,text:a,variant:c}=e;return(0,i.jsxs)("span",{className:(0,o.A)("inline-flex items-center px-1 py-0.5 rounded text-xs font-bold uppercase",c?r[c]:"bg-gray-100 text-gray-800",n),children:[t&&(0,i.jsx)(s.A,{icon:t,className:"mr-1"}),a]})}},68259:(e,n,t)=>{t.d(n,{A:()=>i});var o=t(65162),s=t(62540);function i(e){let{text:n}=e;return(0,s.jsx)(o.A,{text:n,icon:"material-symbols:clock-loader-40",variant:"success",className:"absolute right-0 top-1.5"})}},91664:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(45968),s=t(74599),i=t(62540);const r={discord:"carbon:logo-discord",github:"carbon:logo-github",moon:"material-symbols:moon-stars","new-project":"material-symbols:add-box","new-task":"material-symbols:add-circle",project:"material-symbols:inbox","project-config":"material-symbols:inbox-customize","project-config-global":"material-symbols:inbox-customize","project-graph":"material-symbols:flowchart","run-task":"material-symbols:play-circle",task:"material-symbols:circle","task-config":"material-symbols:build-circle",token:"material-symbols:code",toolchain:"material-symbols:service-toolbox","toolchain-config":"material-symbols:settings-alert",twitter:"carbon:logo-twitter",workspace:"material-symbols:graph-5","workspace-config":"material-symbols:settings"};function a(e){let{name:n,...t}=e;return(0,i.jsx)(s.A,{...t,icon:r[n]})}function c(e){let{links:n}=e;return(0,i.jsx)("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:n.map((e=>(0,i.jsx)(o.A,{href:e.url,className:"focus:outline-none",children:(0,i.jsxs)("div",{className:"relative rounded-lg px-3 py-3 flex items-center space-x-2 border-solid border border-t-0 border-b-2 bg-gray-50 hover:bg-gray-100/90 border-gray-200/75 dark:bg-slate-700 dark:hover:bg-slate-600 dark:border-slate-900/75",children:[(0,i.jsx)("div",{className:"flex-shrink-0",style:{marginBottom:-7},children:(0,i.jsx)(a,{width:"1.5em",name:e.icon})}),(0,i.jsx)("div",{className:"flex-1 min-w-0 text-gray-900 dark:text-gray-100",children:e.label})]})},e.url)))})}}}]);