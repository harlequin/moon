"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[27385],{10901:(e,n,t)=>{t.d(n,{A:()=>o});var i=t(62540);function o(e){let{src:n,width:t="90%",alt:o="",title:r,align:a="center",padding:s="1rem"}=e;return(0,i.jsx)("div",{style:{marginBottom:s,marginTop:s,textAlign:a},children:(0,i.jsx)("img",{src:n.default,width:t,alt:o,title:r,className:"inline-block"})})}},41355:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});var i=t(82520),o=t(62540),r=t(43023),a=t(10901);const s={slug:"v0.14",title:"moon v0.14 - Code generation and implicit dependencies",authors:["milesj"],tags:["generator","project-graph","ci"]},l=void 0,c={authorsImageUrls:[void 0]},d=[{value:"New <code>moon generate</code> command",id:"new-moon-generate-command",level:2},{value:"Implicit dependency scanning",id:"implicit-dependency-scanning",level:2},{value:"Report CI runs on pull requests",id:"report-ci-runs-on-pull-requests",level:2},{value:"Other changes",id:"other-changes",level:2},{value:"What&#39;s next?",id:"whats-next",level:2}];function p(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"With this release, we've landed some new features that have been requested multiple times since\nlaunch. A code generation and template scaffolding layer, as well as implicit dependency scanning\nfor the project graph!"}),"\n",(0,o.jsxs)(n.h2,{id:"new-moon-generate-command",children:["New ",(0,o.jsx)(n.code,{children:"moon generate"})," command"]}),"\n",(0,o.jsxs)(n.p,{children:["Code generation is the staple of any large company or repository. Want to spin up a new application?\nWhat about an npm package? Or maybe third-party integrations? Avoid copy-and-pasting existing code,\nand instead generate it with the new ",(0,o.jsx)(n.code,{children:"moon generate"})," command, which is powered by our new generator\nsystem."]}),"\n",(0,o.jsxs)(n.p,{children:['The generator will locate a template by name on the file system ("npm-package" in the example\nbelow), prompt and interpolate variables, render the files with ',(0,o.jsx)(n.a,{href:"https://tera.netlify.app/",children:"Tera"})," (a\nRust based template engine), and write the files to the target destination."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"# Generate code from a template to a target directory\n$ moon generate npm-package ./packages/example\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Learn more about ",(0,o.jsx)(n.a,{href:"../docs/guides/codegen",children:"code generation in the official guide"}),"!"]}),"\n",(0,o.jsx)(n.h2,{id:"implicit-dependency-scanning",children:"Implicit dependency scanning"}),"\n",(0,o.jsxs)(n.p,{children:["This has been a request since moon's official release, and it's finally here! Up until now, if you\nwanted project-to-project dependency relationships, you had to explicitly declare them with\n",(0,o.jsx)(n.a,{href:"../docs/config/project#dependson",children:(0,o.jsx)(n.code,{children:"dependsOn"})}),". But thanks to a\n",(0,o.jsx)(n.a,{href:"https://github.com/moonrepo/moon/pull/288",children:"ton of"}),"\n",(0,o.jsx)(n.a,{href:"https://github.com/moonrepo/moon/pull/249",children:"infrastructure"})," and\n",(0,o.jsx)(n.a,{href:"https://github.com/moonrepo/moon/pull/277",children:"platform"})," changes, we can now infer implicit\ndependencies automatically!"]}),"\n",(0,o.jsxs)(n.p,{children:["We still suggest using explicit dependencies, as it provides more\n",(0,o.jsx)(n.a,{href:"../docs/concepts/project#dependencies",children:"automation like project syncing"}),", but implicit is great for\nadoption and migration purposes."]}),"\n",(0,o.jsx)(n.h2,{id:"report-ci-runs-on-pull-requests",children:"Report CI runs on pull requests"}),"\n",(0,o.jsxs)(n.p,{children:["We're fans of continuous and easily accessible feedback, and as such, have released a new GitHub\naction, ",(0,o.jsx)(n.a,{href:"https://github.com/marketplace/actions/moon-ci-run-reports",children:(0,o.jsx)(n.code,{children:"moonrepo/run-report-action"})}),",\nwhich reports the results of ",(0,o.jsx)(n.a,{href:"../docs/commands/ci",children:(0,o.jsx)(n.code,{children:"moon ci"})})," as a pull request comment. The report\nlooks something like the following:"]}),"\n",(0,o.jsx)(a.A,{src:t(53604),width:"60%"}),"\n",(0,o.jsx)(n.h2,{id:"other-changes",children:"Other changes"}),"\n",(0,o.jsxs)(n.p,{children:["View the\n",(0,o.jsx)(n.a,{href:"https://github.com/moonrepo/moon/releases/tag/%40moonrepo%2Fcli%400.14.0",children:"official release"})," for a\nfull list of changes."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"When running in a Docker container, caching is disabled in an effort to greatly reduce the size of\nthe image."}),"\n",(0,o.jsxs)(n.li,{children:["Updated ",(0,o.jsx)(n.code,{children:"moon setup"})," to also install Node.js dependencies."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"whats-next",children:"What's next?"}),"\n",(0,o.jsx)(n.p,{children:"Expect the following in the v0.15 release!"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Major Docker workflow improvements!"}),"\n",(0,o.jsx)(n.li,{children:"Frontmatter configuration within template files."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},43023:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>s});var i=t(63696);const o={},r=i.createContext(o);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},53604:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});const i=t.p+"assets/images/run-report-41cffa17cd530ab8cca5cef47b38dcfd.png"},82520:e=>{e.exports=JSON.parse('{"permalink":"/blog/v0.14","editUrl":"https://github.com/moonrepo/moon/tree/master/website/blog/2022-09-13_v0.14.mdx","source":"@site/blog/2022-09-13_v0.14.mdx","title":"moon v0.14 - Code generation and implicit dependencies","description":"With this release, we\'ve landed some new features that have been requested multiple times since","date":"2022-09-13T00:00:00.000Z","tags":[{"inline":true,"label":"generator","permalink":"/blog/tags/generator"},{"inline":true,"label":"project-graph","permalink":"/blog/tags/project-graph"},{"inline":true,"label":"ci","permalink":"/blog/tags/ci"}],"readingTime":2.01,"hasTruncateMarker":true,"authors":[{"name":"Miles Johnson","title":"Founder, developer","url":"https://github.com/milesj","imageURL":"/img/authors/miles.jpg","key":"milesj","page":null}],"frontMatter":{"slug":"v0.14","title":"moon v0.14 - Code generation and implicit dependencies","authors":["milesj"],"tags":["generator","project-graph","ci"]},"unlisted":false,"prevItem":{"title":"moon v0.15 - Enhanced Docker support and 1,000 stars!","permalink":"/blog/v0.15"},"nextItem":{"title":"moon v0.13 - Hashing and toolchain improvements","permalink":"/blog/v0.13"}}')}}]);