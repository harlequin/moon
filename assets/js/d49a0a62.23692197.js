"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[53908],{23548:e=>{e.exports=JSON.parse('{"permalink":"/blog/proto-v0.35","editUrl":"https://github.com/moonrepo/moon/tree/master/website/blog/2024-05-05_proto-v0.35.mdx","source":"@site/blog/2024-05-05_proto-v0.35.mdx","title":"proto v0.35 - Support for more shells","description":"This is a light release that adds support for more terminal shells.","date":"2024-05-05T00:00:00.000Z","tags":[{"inline":true,"label":"shell","permalink":"/blog/tags/shell"},{"inline":true,"label":"dump","permalink":"/blog/tags/dump"},{"inline":true,"label":"profile","permalink":"/blog/tags/profile"},{"inline":true,"label":"trace","permalink":"/blog/tags/trace"}],"readingTime":1.29,"hasTruncateMarker":true,"authors":[{"name":"Miles Johnson","title":"Founder, developer","url":"https://github.com/milesj","imageURL":"/img/authors/miles.jpg","key":"milesj","page":null}],"frontMatter":{"slug":"proto-v0.35","title":"proto v0.35 - Support for more shells","authors":["milesj"],"tags":["shell","dump","profile","trace"]},"unlisted":false,"prevItem":{"title":"moon v1.25 - New task runner and console reporter","permalink":"/blog/moon-v1.25"},"nextItem":{"title":"moon v1.24 - Task mutexes, auto-detect revisions, project dependents, and more!","permalink":"/blog/moon-v1.24"}}')},43023:(e,t,o)=>{o.d(t,{R:()=>l,x:()=>i});var r=o(63696);const n={},s=r.createContext(n);function l(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),r.createElement(s.Provider,{value:t},e.children)}},56066:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>a,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>r,toc:()=>h});var r=o(23548),n=o(62540),s=o(43023);const l={slug:"proto-v0.35",title:"proto v0.35 - Support for more shells",authors:["milesj"],tags:["shell","dump","profile","trace"]},i=void 0,a={authorsImageUrls:[void 0]},h=[{value:"Experimental support for new shells",id:"experimental-support-for-new-shells",level:2},{value:"Generate trace profiles",id:"generate-trace-profiles",level:2},{value:"Other changes",id:"other-changes",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"This is a light release that adds support for more terminal shells."}),"\n",(0,n.jsx)(t.h2,{id:"experimental-support-for-new-shells",children:"Experimental support for new shells"}),"\n",(0,n.jsxs)(t.p,{children:["proto has always supported the primary and common shells like Bash, Zsh, Fish, PowerShell, and more.\nIn recent years, there has been an influx of new and modern shells, built with technologies such as\nRust. We felt it was time to start supporting some of these new shells, and have added\n",(0,n.jsx)(t.a,{href:"https://crates.io/crates/starbase_shell",children:"experimental support"})," for:"]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://github.com/redox-os/ion",children:"Ion"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://www.nushell.sh/",children:"Nu"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://xon.sh/",children:"Xonsh"})}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["Furthermore, the ",(0,n.jsx)(t.a,{href:"/docs/proto/commands/setup",children:(0,n.jsx)(t.code,{children:"proto setup"})})," command (which is ran when installing\nproto) will now prompt the user to select a shell if one could not be detected."]}),"\n",(0,n.jsx)(t.h2,{id:"generate-trace-profiles",children:"Generate trace profiles"}),"\n",(0,n.jsxs)(t.p,{children:["A major goal of proto is to be extremely efficient and to optimize as much as possible. To help\naccomplish this goal, we're introducing the global CLI ",(0,n.jsx)(t.code,{children:"--dump"})," flag, which will generate a trace\nprofile that can be loaded and reviewed in ",(0,n.jsx)(t.code,{children:"chrome://tracing"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"This will display a flame graph with labeled operations, their timing information, and any\nassociated data. This is the first step in capturing this kind of information, and it will only get\nbetter moving forward."}),"\n",(0,n.jsx)(t.admonition,{type:"caution",children:(0,n.jsxs)(t.p,{children:["Generating a profile for running a tool, either with ",(0,n.jsx)(t.code,{children:"proto run node"})," or ",(0,n.jsx)(t.code,{children:"node"})," itself, will not\nwork. This is because the tool process ",(0,n.jsx)(t.em,{children:"replaces"})," the current proto process entirely, causing the\nprofile to be interrupted and abort."]})}),"\n",(0,n.jsx)(t.h2,{id:"other-changes",children:"Other changes"}),"\n",(0,n.jsxs)(t.p,{children:["View the ",(0,n.jsx)(t.a,{href:"https://github.com/moonrepo/proto/releases/tag/v0.35.0",children:"official release"})," for a full list\nof changes."]})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}}}]);